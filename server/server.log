
> repair-system-server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
(node:88300) [MONGOOSE] Warning: Duplicate schema index on {"code":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:88300) [MONGOOSE] Warning: Duplicate schema index on {"name":1} found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.
2025-06-07 06:27:25 [32minfo[39m: Server is running on port 5000 {"environment":"development","port":"5000"}
2025-06-07 06:27:25 [32minfo[39m: MongoDB Connected: localhost
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"customers","operationType":"createIndex","query":{"email":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"users","operationType":"createIndex","query":{"username":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"roles","operationType":"createIndex","query":{"name":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"products","operationType":"createIndex","query":{"branchId":1,"type":1,"brand":1,"model":1,"part":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"devicetypes","operationType":"createIndex","query":{"name":1,"isActive":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"orders","operationType":"createIndex","query":{"orderId":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"brands","operationType":"createIndex","query":{"deviceType":1,"name":1,"isActive":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"roles","operationType":"createIndex","query":{"name":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"products","operationType":"createIndex","query":{"branchId":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"branches","operationType":"createIndex","query":{"code":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"users","operationType":"createIndex","query":{"email":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"devicetypes","operationType":"createIndex","query":{"isActive":1,"createdAt":-1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"orders","operationType":"createIndex","query":{"branch":1,"status":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"brands","operationType":"createIndex","query":{"isActive":1,"createdAt":-1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"products","operationType":"createIndex","query":{"type":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"branches","operationType":"createIndex","query":{"code":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"users","operationType":"createIndex","query":{"role":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"orders","operationType":"createIndex","query":{"customer.phone":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"products","operationType":"createIndex","query":{"brand":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"models","operationType":"createIndex","query":{"deviceType":1,"brand":1,"name":1,"isActive":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"customers","operationType":"createIndex","query":{"email":1,"phone":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"orders","operationType":"createIndex","query":{"createdAt":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"products","operationType":"createIndex","query":{"model":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"models","operationType":"createIndex","query":{"isActive":1,"createdAt":-1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"orders","operationType":"createIndex","query":{"payment.remainingAmount":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"products","operationType":"createIndex","query":{"status":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"customers","operationType":"createIndex","query":{"branchId":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"orders","operationType":"createIndex","query":{"warranty.expiryDate":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"products","operationType":"createIndex","query":{"stock":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"customers","operationType":"createIndex","query":{"name":"text","email":"text"}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"branches","operationType":"createIndex","query":{"name":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"users","operationType":"createIndex","query":{"branch":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"branches","operationType":"createIndex","query":{"isCentral":1}}}
2025-06-07 06:27:25 [34mdebug[39m: {"message":{"type":"database","operation":"query","collection":"users","operationType":"createIndex","query":{"status":1}}}
node:events:491
      throw er; // Unhandled 'error' event
      ^

Error: read EIO
    at TTY.onStreamRead (node:internal/stream_base_commons:216:20)
Emitted 'error' event on ReadStream instance at:
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  errno: -5,
  code: 'EIO',
  syscall: 'read'
}

Node.js v23.5.0
